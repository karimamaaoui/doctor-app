<mat-card
  class="trinta-card users-list-card mb-25 bg-white border-none d-block"
>
  <mat-card-header>
    <mat-card-title>
      <h5 class="mt-0 mb-0">Users List</h5>
    </mat-card-title>
    <mat-card-subtitle>
      <button
        type="button"
        mat-button
        class="card-header-menu-btn"
        [matMenuTriggerFor]="cardHeaderMenu"
      >
        This Week
      </button>
      <mat-menu
        #cardHeaderMenu="matMenu"
        class="card-header-menu"
        xPosition="before"
      >
        <button mat-menu-item>This Day</button>
        <button mat-menu-item>This Week</button>
        <button mat-menu-item>This Month</button>
        <button mat-menu-item>This Year</button>
      </mat-menu>
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <div class="users-list-table">
      <div class="table-responsive">
        <table mat-table [dataSource]="dataSource">
          <ng-container matColumnDef="client">
            <th mat-header-cell *matHeaderCellDef>client</th>
            <td mat-cell *matCellDef="let element">
              {{ element.client?.email || "N/A" }}
            </td>
          </ng-container>

          <!-- State Column -->
          <ng-container matColumnDef="state">
            <th mat-header-cell *matHeaderCellDef>State</th>
            <td mat-cell *matCellDef="let element">
                <span class="trinta-badge fw-medium d-inline-block" [ngClass]="{'ACTIVE': element.state === 'IN PROGRESS', 'REFUSED': element.state === 'REFUSED'}">
                  {{element.state}}
                </span>
          
          </ng-container>

          <!-- Diploma Name Column -->
          <ng-container matColumnDef="diplomaName">
            <th mat-header-cell *matHeaderCellDef>Diploma Name</th>
            <td mat-cell *matCellDef="let element">
              {{ element.diploma?.diplomaName || "N/A" }}
            </td>
          </ng-container>

          <!-- Address Column -->
          <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef>Address</th>
            <td mat-cell *matCellDef="let element">{{ element.address }}</td>
          </ng-container>

          <!-- Phone Number Column -->
          <ng-container matColumnDef="phoneNumber">
            <th mat-header-cell *matHeaderCellDef>Phone Number</th>
            <td mat-cell *matCellDef="let element">
              {{ element.phoneNumber }}
            </td>
          </ng-container>

          <!-- Hospital Name Column -->
          <ng-container matColumnDef="hospitalName">
            <th mat-header-cell *matHeaderCellDef>Hospital Name</th>
            <td mat-cell *matCellDef="let element">
              {{ element.hospital?.hospitalName || "N/A" }}
            </td>
          </ng-container>

          <!-- Action Column -->

          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef class="text-end pr-0">
              Action
            </th>
            <td mat-cell *matCellDef="let element" class="text-end pr-0">
              <div class="action">
                <button
                  type="button"
                  mat-button
                  class="p-0 min-w-auto lh-1 h-auto"
                  (click)="openDialog(element)"
                >
                  <mat-icon>edit</mat-icon>
                </button>
          
              </div>
            </td>
          </ng-container>
          <!-- Table Rows -->
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
      <mat-paginator [pageSizeOptions]="[10, 12, 16]"></mat-paginator>
    </div>
  </mat-card-content>
</mat-card>
